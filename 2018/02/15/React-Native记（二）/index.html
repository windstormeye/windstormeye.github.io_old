<!DOCTYPE html><html lang="zh-Hans"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="ä¹Ÿå°±éª‘ä¸ªè½¦ï¼Œé¡ºä¾¿å†™ç‚¹ç ï¼Œå†å»çœ‹çœ‹æ™¯"><title>React-Nativeè®°ï¼ˆäºŒï¼‰ | PJHubs</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"><meta name="generator" content="Hexo 6.2.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">React-Nativeè®°ï¼ˆäºŒï¼‰</h1><a id="logo" href="/.">PJHubs</a><p class="description">ä¹Ÿå°±éª‘ä¸ªè½¦ï¼Œé¡ºä¾¿å†™ç‚¹ç ï¼Œå†å»çœ‹çœ‹æ™¯</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa undefined"> æ–‡ç« </i></a><a href="/archives/"><i class="fa undefined"> æ€»è§ˆ</i></a><a href="/photograph/"><i class="fa undefined"> æ‘„å½±</i></a><a href="/about/"><i class="fa undefined"> å…³äº</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">React-Nativeè®°ï¼ˆäºŒï¼‰</h1><div class="post-meta">2018-02-15</div><div class="post-content"><p>åœäº†ä¸€æ®µæ—¶é—´åRNçš„å­¦ä¹ åˆæŒç»­äº†ğŸ’ªã€‚åœ¨åœæ­¢çš„è¿™æ®µæ—¶é—´ä¸­ä¸»è¦æ˜¯å»åšäº†å…³äºiOSçš„ä¸€äº›ç»†èŠ‚åŠ å¼ºï¼Œè¿™éƒ¨åˆ†å†…å®¹ä¹Ÿæ˜¯è‡ªå·±ä¹‹å‰ä¸€ç›´æƒ³å»æ€»ç»“å‡ºæ¥å®¹æ˜“é—å¿˜å’Œå‡ºé”™çš„åœ°æ–¹ã€‚</p>
<p>éšåè·Ÿè¿›çš„RNå­¦ä¹ ä¸»è¦æ˜¯å­¦ä¹ <code>ScrollViewç›¸å…³ä½¿ç”¨</code>ã€<code>æ‰‹æ’¸è½®æ’­å›¾</code>ã€<code>ListViewçš„ä½¿ç”¨</code>ã€<code>tabBarçš„ä½¿ç”¨</code>ã€<code>Navigatorçš„ä½¿ç”¨</code>ã€<code>ç½‘ç»œè¯·æ±‚çš„ç®€å•è®¤è¯†</code>ï¼Œä¹Ÿå¿«è¿‡å¹´å•¦ï¼Œå…ˆåœ¨æ­¤ç¥å„ä½çœ‹å‹è¿‡å¹´å¥½~ï¼Œå› ä¸ºå›åˆ°è€å®¶ç½‘å®åœ¨æ˜¯ä¸å¥½ï¼Œå¾ˆå¤šäº‹æƒ…ä¸æ–¹ä¾¿å»åšğŸ˜”ï¼Œä¸€äº›é›¶é›¶æ•£æ•£çš„çäº‹ä¹Ÿæ—¶ä¸æ—¶çš„æ‰“æ‰°ç€è‡ªå·±ï¼Œåªèƒ½æ¯å¤©æ¨è¿›ä¸€ç‚¹ç‚¹ã€‚</p>
<p>åœ¨è¿™æ®µå­¦ä¹ RNçš„æ—¶é—´ä¸­ï¼Œæˆ‘ä¸»è¦è®¤è¯†åˆ°äº†RNâ€œçœŸçš„å¾ˆåƒåœ¾â€ğŸ™‚ï¼ˆæ³¨æ„ï¼šè¿™æ˜¯ä¸ªåŒæ€§è¯ï¼ï¼‰ï¼Œåšä¸€éƒ¨åˆ†å†…å®¹æ¯”NativeçœŸçš„æ–¹ä¾¿è¶…å¤šçš„ï¼ˆç”šè‡³éƒ½è§‰å¾—æœ‰äº›å‚»ï¼‰ï¼Œè‡³äºå“ªäº›åœ°æ–¹æ–¹ä¾¿ï¼Œä¹‹å‰æ–‡ç« ä¸­ä¹Ÿè¯´çš„ä¸ƒä¸ƒå…«å…«äº†ï¼Œä½†æ˜¯é‡ç‚¹åœ¨äºåšä¸€äº›æ¯”å¦‚è½®æ’­å›¾ã€TabBarè¿™äº›Nativeæ”¯æŒå¾—éå¸¸å¥½çš„ç»„ä»¶ï¼Œåœ¨RNä¸­å°±å°´å°¬å¾—ä¸è¡Œï¼ˆåæ–‡ç»†è°ˆï¼‰ã€‚æ‰€ä»¥åœ¨è¿™æ®µæ—¶é—´çš„å­¦ä¹ ä¸­æˆ‘å·®ç‚¹èŒç”Ÿäº†â€œåŠé€€è‡ªå·±â€çš„æƒ³æ³•ï¼Œå› ä¸ºå®åœ¨æ˜¯å¤ªæ¶å¿ƒäº†ï¼Œå…ˆä¸ç®¡RNçœŸæ­£çš„ç²¾é«“ä¸æˆ‘ç›®å‰æ‰€ç†è§£çš„åˆ°åº•å¯¹ä¸å¯¹å¾—ä¸Šï¼Œå•æ˜¯è¿™å‡ ä¸ªåŸºæœ¬ç»„ä»¶åœ¨RNä¸­å®ç°èµ·æ¥éƒ½å¦‚æ­¤â€œæ¶å¿ƒâ€ï¼ˆç”¨å®˜æ–¹çš„è¯æ¥è¯´ï¼Œåº•å±‚å°±æ˜¯è¿™ä¹ˆåšçš„ğŸ™„ï¼‰ï¼Œè¯´å¥è‰¯å¿ƒè¯ï¼Œæˆ‘å®åœ¨æ˜¯å—ä¸äº†ã€‚è€Œä¸”RNç›®å‰æ¥è¯´ï¼Œè™½ç„¶è¯´æ˜¯â€œLearn onceï¼Œrun anywhereâ€ï¼ˆæœ‰å¯èƒ½è®°é”™äº†ï¼Ÿï¼‰ï¼Œä½†æ˜¯iOSå’ŒAndroidç°åœ¨ä½äºRNç”Ÿæ€ä¸­çš„åˆ†å‰²è¿˜æ˜¯å¤ªå¤§ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯è‡ªå·±çš„åŠŸå¤«ä¸åˆ°å®¶ï¼Œå•æ˜¯ä¸€ä¸ªtabBarIOSæˆ‘å°±å—ä¸äº†ï¼ˆå½“ç„¶ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯å› ä¸ºRNè¿˜éœ€è¦å†å‘å±•ï¼Ÿï¼‰</p>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ä½¿ç”¨ScrollViewå®ç°çš„è½®æ’­å›¾æ•ˆæœ</p>
<img src="https://i.loli.net/2018/02/14/5a843993733f4.gif" width = "40%" height = "40%" align=center />


<p>çœ‹ä¸Šå»æ•ˆæœè¿˜è¡Œï¼Œèƒ½å¤Ÿå®ç°<code>è§¦æ‘¸æ‹–åŠ¨ä¸­æ–­</code>ï¼Œä½†æ˜¯å› ä¸ºæ•´ä½“æ²¡æ­å»ºå®Œï¼Œå¹¶æœªèƒ½å®ç°æ»‘åŠ¨æ•´ä¸ªViewè®©è½®æ’­å›¾è¿›è¡Œä¸­æ–­åœæ­¢ï¼ˆå…·ä½“æ•ˆæœå¯å‚è€ƒäº¬ä¸œï¼‰ã€‚æ•´ä½“å®ç°æ€æƒ³è·ŸiOS Nativeæ˜¯ä¸€æ ·çš„ï¼ŒåŒæ ·éƒ½æ˜¯éœ€è¦ScrollViewä½œä¸ºè½®æ’­å®¹å™¨ï¼Œä½¿ç”¨Imageæ ‡ç­¾ä½œä¸ºè½®æ’­å®ä½“ï¼Œå…¶ä¸åŸç”ŸScrollViewä½¿ç”¨èµ·æ¥æ— äºŒæ„ï¼Œå°±æ˜¯åŸºäºiOSçš„runtimeçš„å°è£…</p>
<ul>
<li><p><strong>éœ€è¦è®¾ç½®é«˜åº¦</strong></p>
<ul>
<li>ç›´æ¥è®¾ç½®é«˜åº¦ï¼ˆä¸æ¨èï¼‰</li>
<li>åœ¨CSSä¸­ä¸åŠ flexï¼š1ã€‚è®©ScrollViewä¸­çš„å†…å®¹è‡ªåŠ¨çš„å¡«å……æ‰©å¼ </li>
</ul>
</li>
<li><p>ScrollViewå†…éƒ¨çš„å…¶ä»–å“åº”è€…å°šæ— æ³•é˜»æ­¢ScrollViewæœ¬èº«æˆä¸ºå“åº”è€…ï¼ŒScrollViewåœ¨å…¶æ‰€æœ‰å­æ§ä»¶çš„æœ€ä¸Šå±‚ï¼Œæ‰€ä»¥ScrollViewå†…éƒ¨çš„å…¶å®ƒå“åº”è€…å¹¶ä¸èƒ½é˜»æ­¢ScrollViewæœ¬èº«æˆä¸ºå“åº”è€…</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">ScrollView</span></span><br><span class="line">    ref=&#123;<span class="string">&#x27;scrollView&#x27;</span>&#125;</span><br><span class="line">    horizontal=&#123;<span class="literal">true</span>&#125;</span><br><span class="line">    pagingEnabled=&#123;<span class="literal">true</span>&#125;</span><br><span class="line">    showsHorizontalScrollIndicator=&#123;<span class="literal">false</span>&#125;</span><br><span class="line">    onMomentumScrollEnd=&#123;<span class="function">(<span class="params">e</span>) =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">onAnimationEnd</span>(e)&#125;</span><br><span class="line">    onScrollBeginDrag=&#123;<span class="function">(<span class="params">e</span>) =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">onScrollBeginDrag</span>(e)&#125;</span><br><span class="line">    onScrollEndDrag=&#123;<span class="function">(<span class="params">e</span>) =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">onScrollEndDrag</span>(e)&#125;</span><br><span class="line">    &gt;</span><br><span class="line">    &#123;<span class="variable language_">this</span>.<span class="title function_">renderChildView</span>()&#125;</span><br><span class="line">    &lt;/<span class="title class_">ScrollView</span>&gt;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">renderChildView</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> childViews = [];</span><br><span class="line">      <span class="keyword">var</span> imgArr = imageData.<span class="property">data</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; imgArr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">          <span class="keyword">var</span> imgItem = imgArr[i];</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(imgItem)</span><br><span class="line">          childViews.<span class="title function_">push</span>(</span><br><span class="line">              <span class="language-xml"><span class="tag">&lt;<span class="name">Image</span> <span class="attr">key</span>=<span class="string">&#123;i&#125;</span> <span class="attr">source</span>=<span class="string">&#123;require(</span>&#x27;<span class="attr">.</span>/<span class="attr">img</span>/<span class="attr">lunbo1.png</span>&#x27;)&#125; <span class="attr">style</span>=<span class="string">&#123;&#123;width:</span> <span class="attr">screenWidth</span>, <span class="attr">height:</span> <span class="attr">120</span>&#125;&#125;/&gt;</span></span></span><br><span class="line">          );</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> childViews;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šå°±æ˜¯è½®æ’­å›¾çš„æ¶æ„ï¼ˆéå¸¸ç®€å•ï¼‰ã€‚æ•°æ®ç»“æ„å¦‚ä¸‹ï¼Œç”¨çš„æ˜¯æœ¬åœ°å›¾ç‰‡èµ„æºï¼Œï¼ˆè¿™é‡Œæœ‰ä¸ªå¤§å‘ï¼Œåæ–‡è¯¦è§£ï¼‰</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;data&quot;</span> <span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;img&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;lunbo1&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;title&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;2333&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;img&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;lunbo2&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;title&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;2333&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;img&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;lunbo3&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;title&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;2333&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>æƒ³è¦è®©è½®æ’­å›¾åœ¨ä¸€å®šæ—¶é—´é—´éš”åè¿›è¡Œè‡ªåŠ¨è½®æ’­ï¼Œå¿…ä¸å¯å°‘çš„éœ€è¦ä¸€ä¸ªå®šæ—¶å™¨è¿›è¡Œæ—¶é—´çš„è®¡ç®—ï¼Œæ®éƒ¨åˆ†èµ„æ–™æ˜¾ç¤ºï¼ŒES5éœ€è¦ä¸€ä¸ª<code>react-timer-mixin</code>ç»„ä»¶ï¼Œè€Œé‡‡ç”¨ES6åå¯ä»¥å¤§å¤§å‡å°‘ç´¯èµ˜çš„å†™æ³•ï¼Œ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç»„ä»¶éƒ½è½½å…¥å®Œæ¯•åï¼Œè°ƒèµ·è®¡æ—¶å™¨æ–¹æ³•</span></span><br><span class="line"> <span class="title function_">componentDidMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">   <span class="variable language_">this</span>.<span class="title function_">startTimer</span>();</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="title function_">startTimer</span>(<span class="params"></span>) &#123;</span><br><span class="line">   <span class="keyword">var</span> scrollView = <span class="variable language_">this</span>.<span class="property">refs</span>.<span class="property">scrollView</span>;</span><br><span class="line">   <span class="keyword">var</span> imgCount = imageData.<span class="property">data</span>.<span class="property">length</span>;</span><br><span class="line">   <span class="comment">// æœ‰setTimeOutå’ŒsetIntervalï¼Œéœ€æ³¨æ„åˆ†æ¸…</span></span><br><span class="line">   <span class="variable language_">this</span>.<span class="property">timer1</span> = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">       <span class="keyword">var</span> activePage = <span class="number">0</span>;</span><br><span class="line">       <span class="comment">// åˆ¤æ–­å½“å‰åˆ†é¡µ</span></span><br><span class="line">       <span class="keyword">if</span> ((<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">currentPage</span> + <span class="number">1</span>) &gt;= imgCount) &#123;</span><br><span class="line">           activePage = <span class="number">0</span></span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">           activePage = <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">currentPage</span> + <span class="number">1</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">           <span class="attr">currentPage</span>: activePage</span><br><span class="line">       &#125;);</span><br><span class="line"></span><br><span class="line">       <span class="comment">// è¿›è¡Œåç§»</span></span><br><span class="line">       <span class="keyword">var</span> offSetX = activePage * screenWidth;</span><br><span class="line">       scrollView.<span class="title function_">scrollResponderScrollTo</span>(&#123;<span class="attr">x</span>: offSetX , <span class="attr">y</span>: <span class="number">0</span>, <span class="attr">animated</span>: <span class="literal">true</span>&#125;)&#125;, <span class="number">1000</span>);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">// å¼€å§‹æ‹–æ‹½</span></span><br><span class="line"> <span class="comment">// éœ€è¦æŠŠScrollViewè‡ªèº«ä½œä¸ºå‚æ•°ä¼ å…¥</span></span><br><span class="line"> <span class="title function_">onScrollBeginDrag</span>(<span class="params">e</span>) &#123;</span><br><span class="line">     <span class="comment">// ES6æ¸…é™¤è®¡æ—¶å™¨</span></span><br><span class="line">     <span class="built_in">clearInterval</span>(<span class="variable language_">this</span>.<span class="property">timer1</span>);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">// ç»“æŸæ‹–æ‹½</span></span><br><span class="line"> <span class="title function_">onScrollEndDrag</span>(<span class="params">e</span>) &#123;</span><br><span class="line">     <span class="variable language_">this</span>.<span class="title function_">startTimer</span>();</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶è¿è¡Œèµ·å·¥ç¨‹ï¼Œå°±èƒ½å¤Ÿå‘ç°è½®æ’­å›¾çš„æ•ˆæœå·²ç»å®ç°äº†ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³è¦æ·»åŠ ä¸€ä¸ªåˆ†é¡µæŒ‡ç¤ºå™¨é‚£è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿå½“æ—¶æˆ‘çš„è„‘å­å°±å†’å‡ºäº†RNè‚¯å®šä¹Ÿæ˜¯å°è£…äº†UIPageControllerï¼Œä½†åˆè¢«äº‹å®å•ªå•ªå•ªçš„æ‰“è„¸ï¼Œæ ¹æœ¬æ²¡æœ‰ï¼ŒæŸ¥é˜…äº†ä¸€ç•ªèµ„æ–™åå‘ç°å±…ç„¶æœ‰ç½‘å‹é€šè¿‡äº†HTMLä¸­çš„ç‰¹æ®Šè½¬ä¹‰å­—ç¬¦<code>&amp;bull;</code>è¾¾åˆ°äº†æ•ˆæœã€‚</p>
<p>è¿™æ˜¯è¡¥å……å®Œçš„renderæ–¹æ³•ï¼Œ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;styles.container&#125;</span>&gt;</span>            <span class="tag">&lt;<span class="name">ScrollView</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">ref</span>=<span class="string">&#123;</span>&#x27;<span class="attr">scrollView</span>&#x27;&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">horizontal</span>=<span class="string">&#123;true&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">pagingEnabled</span>=<span class="string">&#123;true&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">showsHorizontalScrollIndicator</span>=<span class="string">&#123;false&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">onMomentumScrollEnd</span>=<span class="string">&#123;(e)</span> =&gt;</span> this.onAnimationEnd(e)&#125;</span></span><br><span class="line"><span class="language-xml">            onScrollBeginDrag=&#123;(e) =&gt; this.onScrollBeginDrag(e)&#125;</span></span><br><span class="line"><span class="language-xml">            onScrollEndDrag=&#123;(e) =&gt; this.onScrollEndDrag(e)&#125;</span></span><br><span class="line"><span class="language-xml">        &gt;</span></span><br><span class="line"><span class="language-xml">            &#123;this.renderChildView()&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">ScrollView</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;/* è¿”å›æŒ‡ç¤ºå™¨ */&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;styles.pageViewStyle&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123;this.renderPageCircle()&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">View</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">View</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯è¡¥å……å®Œçš„<code>renderChildView</code>å’Œ<code>renderPageCircle</code>æ–¹æ³•ï¼Œ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è½®æ’­å›¾åˆ›å»ºæ–¹æ³•</span></span><br><span class="line"><span class="title function_">renderChildView</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> childViews = [];</span><br><span class="line">    <span class="keyword">var</span> imgArr = imageData.<span class="property">data</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; imgArr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> imgItem = imgArr[i];</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(imgItem)</span><br><span class="line">        childViews.<span class="title function_">push</span>(</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">Image</span> <span class="attr">key</span>=<span class="string">&#123;i&#125;</span> <span class="attr">source</span>=<span class="string">&#123;require(</span>&#x27;<span class="attr">.</span>/<span class="attr">img</span>/<span class="attr">lunbo1.png</span>&#x27;)&#125; <span class="attr">style</span>=<span class="string">&#123;&#123;width:</span> <span class="attr">screenWidth</span>, <span class="attr">height:</span> <span class="attr">120</span>&#125;&#125;/&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> childViews;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ†é¡µæŒ‡ç¤ºå™¨åˆ›å»ºæ–¹æ³•</span></span><br><span class="line"><span class="title function_">renderPageCircle</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> indicatorArr = [];</span><br><span class="line">    <span class="keyword">var</span> style;</span><br><span class="line">    <span class="keyword">var</span> imgArr = imageData.<span class="property">data</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; imgArr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        style = (i === <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">currentPage</span>) ? &#123;<span class="attr">color</span>: <span class="string">&#x27;orange&#x27;</span>&#125; : &#123;<span class="attr">color</span>: <span class="string">&#x27;#ffffff&#x27;</span>&#125;;</span><br><span class="line">        indicatorArr.<span class="title function_">push</span>(</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">Text</span> <span class="attr">key</span>=<span class="string">&#123;i&#125;</span> <span class="attr">style</span>=<span class="string">&#123;[&#123;fontSize:</span> <span class="attr">25</span>&#125;, <span class="attr">style</span>]&#125;&gt;</span><span class="symbol">&amp;bull;</span><span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span></span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> indicatorArr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šå°±æ˜¯ä½¿ç”¨RNå®ç°çš„ç®€å•è½®æ’­å›¾ç»„ä»¶demoï¼Œæ•´ä½“æ¥çœ‹æ¯”iOS Nativeå®ç°èµ·æ¥æ›´ä¸ºæ–¹ä¾¿å¿«æ·ï¼ˆé‡ç‚¹æ˜¯ç®€æ˜ğŸ™‚ï¼Œé¡¹ç›®å·¥ç¨‹åœ°å€æ–‡åï¼‰ï¼ŒåŒæ ·ä¹Ÿæ˜¯é€šè¿‡è·å–ScrollViewçš„åç§»é‡è¿›è¡Œæ“ä½œï¼Œä»æ€æƒ³ä¸Šçœ‹ç»™äººæ„Ÿè§‰å…¨éƒ½æ˜¯ä¸€æ ·çš„å‘¢ğŸ™‚ï¼Œæ¥ç€æˆ‘ä»¬æ¥çœ‹çœ‹RNä¸­çš„ListViewã€‚</p>
<p>åœ¨å­¦ä¹ ListViewè¿‡ç¨‹ä¸­å®ç°äº†ä¸‰ä¸ªå°demoï¼Œæ™®é€šåˆ—è¡¨å±•ç¤ºã€å¸é¡¶åˆ—è¡¨å±•ç¤ºï¼ˆå¯¹æ¯”iOS tableViewçš„groupæ ·å¼ï¼‰ã€ä¹å®«æ ¼ã€‚å…¶ä¸­ï¼Œç»™æˆ‘çš„æ„Ÿè§‰å¦‚æœåªæ˜¯ä½¿ç”¨åˆ°ListViewåšä¸€äº›ç®€å•çš„æ•°æ®å±•ç¤ºï¼Œé‚£çœŸçš„æ˜¯æ— æ¯”çš„èˆ’æœï¼Œå¹¶ä¸”å¾—ç›ŠäºRNè‡ªèº«çš„æ¶æ„è®¾è®¡ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå¾ˆå¥½çš„å¤„ç†æ•°æ®æºçš„åˆ‡æ¢ã€‚</p>
<p>ä½¿ç”¨ListViewéœ€è¦è¿™ä¸¤æ­¥ï¼š</p>
<ul>
<li><p>åˆ›å»ºä¸€ä¸ªListView.DataSourceæ•°æ®æºï¼Œç»™å®ƒä¼ é€’ä¸€ä¸ªæ™®é€šçš„æ•°æ®æ•°ç»„ï¼›</p>
</li>
<li><p>ä½¿ç”¨æ•°æ®æº(data source)å®ä¾‹åŒ–ä¸€ä¸ªListViewç»„ä»¶,å®šä¹‰ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå‡½æ•°æ¥å—æ•°ç»„ä¸­çš„æ¯ä¸ªæ•°æ®ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¯æ¸²æŸ“çš„ç»„ä»¶(å°±æ˜¯æ¯ä¸€ä¸ªCell)</p>
</li>
</ul>
<p>æ™®é€šåˆ—è¡¨çš„å®ç°æ–¹æ³•åœ¨å¸é¡¶åˆ—è¡¨ä¸­æœ‰é‡å¤ï¼Œåœ¨æ­¤æˆ‘ä»¬åªå¯¹å¸é¡¶åˆ—åˆ—è¡¨åšè®²è§£ï¼ˆåœ¨è®²è§£ä¸­å¤§å®¶å°†ä¼šçœ‹è§æ˜¯æœ‰å¤šä¹ˆçš„æ¶å¿ƒğŸ™‚ï¼‰</p>
<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦ç»™ListViewè®¾ç½®æ•°æ®æºï¼Œè€ŒListViewçš„æ•°æ®æºè®¾ç½®å¸¦äº†æˆ‘ä¸€ä¸ªæ— æ¯”çš„éœ‡æ’¼ï¼ˆå¤ªå°¼ç›éº»çƒ¦äº†ğŸ™‚ï¼‰</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">  <span class="variable language_">super</span>(props);</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">    <span class="attr">dataSource</span>: <span class="keyword">new</span> <span class="title class_">ListView</span>.<span class="title class_">DataSource</span>(&#123;</span><br><span class="line">      <span class="attr">rowHasChanged</span>: <span class="function">(<span class="params">r1, r2</span>) =&gt;</span> r1 !== r2</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä»¥ä¸Šä»£ç æˆ‘ä»¬å°±å®šä¹‰å¥½äº†å…³äºListViewçš„æ•°æ®åŠ è½½æ–¹æ³•ï¼Œå½“r1è¡Œä¸ç­‰äºr2è¡Œæ—¶ï¼Œæ‰è¿›è¡ŒListViewçš„æ•°æ®åŠ è½½ã€‚æˆ‘ä»¬å…ˆä¸ç®¡ä¸­é—´æ•°æ®æºå¦‚ä½•æ›´æ›¿ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹å¦‚ä½•å¡«å……ListViewçš„æ ¸å¿ƒæ•°æ®æºï¼Œ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      <span class="attr">dataSource</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">dataSource</span>.<span class="title function_">cloneWithRowsAndSections</span>(dataBlob, sectionIDs, rowIDs)</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä»¥ä¸Šæ–¹æ³•ï¼Œæˆ‘ä»¬ä¼šè°ƒèµ·RNçš„setStateå¼‚æ­¥èµ‹å€¼æ–¹æ³•ï¼Œå…¶å®æˆ‘è§‰å¾—RNä»æ¶æ„ä¸Šå°±æ˜¯MVVMï¼ˆä¸çŸ¥é“çŒœçš„å¯¹ä¸å¯¹ï¼‰ï¼Œå½“æˆ‘ä»¬åœ¨setStateæ–¹æ³•ä¸­æ›´æ”¹äº†ç›¸å…³çš„å±æ€§å€¼ï¼Œä½¿ç”¨åˆ°è¿™äº›ç›¸å…³å±æ€§å€¼çš„å¯¹åº”ç»„ä»¶ä¼šè‡ªåŠ¨å¼‚æ­¥çš„åˆ·æ–°UIï¼Œè¿™ç‚¹è¶…å¼ºå¤§çš„å¥½ä¸å¥½ğŸ™‚ã€‚åœ¨iOSä¸­å•æ˜¯è¦å®ç°MVVMæ¶æ„æ€æƒ³ï¼Œå°±å¾—æ‹‰å‡ºKVOè¿™ç§çœ‹ä¸Šå»éå¸¸éš¾å—çš„ä¸œè¥¿ğŸ™‚ã€‚</p>
<p>åœ¨ListViewä¸­è¦å®ç°é»æ€§å¤´éƒ¨ï¼Œéœ€è¦ä½¿ç”¨ cloneWithRowsAndSectionsæ–¹æ³•ï¼Œå°† dataBlob(object), sectionIDs (array), rowIDs (array) ä¸‰ä¸ªå€¼ä¼ è¿›å»ã€‚</p>
<p>å¦‚æœä½ æ›¾ç»æœ‰è¿‡iOSå¼€å‘ç»éªŒï¼ˆæ²¡æœ‰ä¹Ÿè¡Œï¼‰ï¼Œè¦å®ç°çš„å¸é¡¶æ•ˆæœï¼Œå®é™…ä¸Šå°±æ˜¯å¯¹ListViewåšäº†åˆ†ç»„ï¼Œå–åä¸ºSectionï¼Œç»„å†…çš„æ¯ä¸€è¡Œç§°ä¹‹ä¸ºRowï¼Œå› æ­¤æˆ‘ä»¬å®ç°sectionå’Œrowçš„æ•°æ®æºèµ‹å€¼ï¼Œè¿™äº›ä¸œè¥¿éƒ½éœ€è¦åœ¨é¡µé¢åˆå§‹åŒ–æ–¹æ³•ä¸­å¾—åˆ°è§£å†³ï¼Œå› æ­¤è¡¥å……å®Œçš„constructoræ–¹æ³•ä¸ºï¼Œ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">constructor</span>(<span class="params">props</span>)&#123;</span><br><span class="line">    <span class="variable language_">super</span>(props);</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–sectionæ–¹æ³•</span></span><br><span class="line">    <span class="keyword">var</span> <span class="title function_">getSectionData</span> = (<span class="params">dataBlob, sectionID</span>) =&gt; &#123;</span><br><span class="line">      <span class="keyword">return</span> dataBlob[sectionID];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–rowæ–¹æ³•</span></span><br><span class="line">    <span class="keyword">var</span> <span class="title function_">getRowData</span> = (<span class="params">dataBlob, sectionID, rowID</span>) =&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> dataBlob[sectionID + <span class="string">&quot;:&quot;</span> + rowID];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">        <span class="attr">dataSource</span>: <span class="keyword">new</span> <span class="title class_">ListView</span>.<span class="title class_">DataSource</span>(&#123;</span><br><span class="line">        <span class="comment">// ç»‘å®šsectionæ•°æ®åˆ·æ–°</span></span><br><span class="line">        <span class="attr">getSectionData</span>: getSectionData,</span><br><span class="line">        <span class="comment">// ç»‘å®šrowæ•°æ®åˆ·æ–°ï¼Œåªæ›´æ–°æ¸²æŸ“æ•°æ®å˜åŒ–çš„é‚£ä¸€è¡Œ  ï¼ŒrowHasChangedæ–¹æ³•ä¼šå‘Šè¯‰ListViewç»„ä»¶æ˜¯å¦éœ€è¦é‡æ–°æ¸²æŸ“å½“å‰é‚£ä¸€è¡Œã€‚</span></span><br><span class="line">        <span class="attr">getRowData</span>: getRowData,</span><br><span class="line">            <span class="attr">rowHasChanged</span>: <span class="function">(<span class="params">r1, r2</span>) =&gt;</span> r1 !== r2,</span><br><span class="line">            <span class="attr">sectionHeaderHasChanged</span>: <span class="function">(<span class="params">s1, s2</span>) =&gt;</span> s1 !== s2,</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬éœ€è¦æ­å»ºçš„ç•Œé¢ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼Œ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;styles.containerStyle&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        // å…ˆå‡è£…æœ‰ä¸€ä¸ªNavigationBarğŸ™‚</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;styles.headerViewStyle&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">Text</span> <span class="attr">style</span>=<span class="string">&#123;&#123;color:</span> &quot;<span class="attr">white</span>&quot;, <span class="attr">fontSize:</span> <span class="attr">25</span>&#125;&#125;&gt;</span>PJHubs<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">View</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">ListView</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">dataSource</span>=<span class="string">&#123;this.state.dataSource&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          // <span class="attr">ListViewRowçš„æ•°æ®ç»‘å®š</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">renderRow</span>=<span class="string">&#123;this.renderRow&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          // <span class="attr">ListViewSectionçš„æ•°æ®ç»‘å®š</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">renderSectionHeader</span>=<span class="string">&#123;this.renderSectionHeader&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          // <span class="attr">è®¾ç½®Cellå†…éƒ¨æ ·å¼</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">contentContainerStyle</span>=<span class="string">&#123;styles.listViewStyle&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">View</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆ›å»ºListViewRow</span></span><br><span class="line">  <span class="title function_">renderRow</span>(<span class="params">rowData</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">TouchableOpacity</span> <span class="attr">activeOpacity</span>=<span class="string">&#123;0.5&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;styles.innerViewStyle&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">Image</span> <span class="attr">source</span>=<span class="string">&#123;require(</span>&quot;<span class="attr">.</span>/<span class="attr">wine.png</span>&quot;)&#125; <span class="attr">style</span>=<span class="string">&#123;styles.leftImageStyle&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">Text</span> <span class="attr">style</span>=<span class="string">&#123;&#123;fontSize:</span> <span class="attr">17</span>&#125;&#125;&gt;</span>&#123;rowData.name&#125;<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">View</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">TouchableOpacity</span>&gt;</span></span></span><br><span class="line">      );</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// åˆ›å»ºListViewSection</span></span><br><span class="line">  <span class="title function_">renderSectionHeader</span>(<span class="params">sectionData, sectionID</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span>(</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;styles.sectionViewStyle&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Text</span> <span class="attr">style</span>=<span class="string">&#123;&#123;marginLeft:</span> <span class="attr">10</span>,&#125;&#125;&gt;</span>&#123;sectionData&#125;<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">View</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºListViewçš„æ•°æ®åŠ è½½å±äºè€—æ—¶æ“ä½œï¼ˆä¸ç®¡æ•°æ®åœ¨æœ¬åœ°è¿˜æ˜¯ç½‘ç»œä¸Šï¼‰ï¼ŒRNå®˜æ–¹æ¨èæ‰€æœ‰çš„è€—æ—¶æ“ä½œç»Ÿç»Ÿç»™æˆ‘æ”¾åˆ°<code>componentDidMount</code>æ–¹æ³•ä¸­ï¼ˆç»„ä»¶åŠ è½½å®Œæ¯•åï¼‰ï¼Œå› æ­¤è¡¥å……å®Œçš„<code>componentDidMount</code>æ–¹æ³•å¦‚ä¸‹æ‰€ç¤ºï¼Œ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">componentDidMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">loadDataFromJson</span>()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">loadDataFromJson</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> jsonData = wine.<span class="property">data</span>;</span><br><span class="line">    <span class="keyword">var</span> dataBlob = &#123;&#125;,</span><br><span class="line">        sectionIDs = [],</span><br><span class="line">        rowIDs = [],</span><br><span class="line">        cars = [];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; jsonData.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      sectionIDs.<span class="title function_">push</span>(i);</span><br><span class="line">      dataBlob[i] = jsonData[i].<span class="property">title</span>;</span><br><span class="line">      cars = jsonData[i].<span class="property">cars</span>;</span><br><span class="line">      rowIDs[i] = [];</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; cars.<span class="property">length</span>; j ++) &#123;</span><br><span class="line">        rowIDs[i].<span class="title function_">push</span>(j);</span><br><span class="line">        <span class="comment">// è¿™æ˜¯æœ€æ¶å¿ƒçš„åœ°æ–¹ï¼Œæˆ‘ä»¬éœ€è¦æŒ‰ç…§å›ºå®šæ ¼å¼å»å¡«å……è¾“æ•°æ®è§åæ–‡ï¼Œ</span></span><br><span class="line">        dataBlob[i + <span class="string">&quot;:&quot;</span> + j] = cars[j];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éšåæ•°æ®æ›´æ–°å³å¯å¼‚æ­¥åˆ·æ–°UI</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      <span class="attr">dataSource</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">dataSource</span>.<span class="title function_">cloneWithRowsAndSections</span>(dataBlob, sectionIDs, rowIDs)</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>ä¹‹æ‰€ä»¥è¯´æ¶å¿ƒï¼Œä¸»è¦æ˜¯å› ä¸ºæˆ‘ä»¬è¦å®ç°ListViewçš„æ•°æ®åˆ·æ–°ï¼Œéœ€è¦æ ¼å¼åŒ–æ•°æ®æ ¼å¼æŒ‰ç…§<code>sectionID:rowID</code>çš„æ–¹å¼æ‰èƒ½è¢«ListViewçš„é»æ€§å±æ€§ç‰¹æ€§æ‰€è¯†åˆ«ï¼Œæ•°æ®æ˜¯ä¸‹å±ä¸€ä¸ªsectionIDæ‰ä¼šè¢«å½’çº³ä¸ºä¸€ä¸ªç»„ä¸­ï¼Œå…·ä½“æ•°æ®æ ·å¼å¦‚ä¸‹æ‰€ç¤ºï¼Œ</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;sectionID1&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;2333&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;sectionID1:rowID1&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;2333&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;sectionID1:rowID2&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;2333&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;sectionID2&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;2333&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;sectionID2:rowID1&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;233&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>ä¸€äº›å…¶å®ƒçš„å°ç»†èŠ‚å’ŒCSSå°±ä¸æ”¾å‡ºæ¥äº†ï¼Œé¡¹ç›®ç»†èŠ‚è§æ–‡æœ«ï¼Œpoä¸€å¼ å¸é¡¶å®Œæˆå›¾</p>
<img src="https://i.loli.net/2018/02/14/5a843cb9db199.gif" width = "40%" height = "40%" align=center />


<p>åœ¨RNä¸­å®ç°ä¹å®«æ ¼ï¼Œä½ å¯ä»¥è®¤ä¸ºæ˜¯iOSä¸­collectionViewï¼Œä¸»è¦è¿˜æ˜¯ç”¨åˆ°äº†ListViewç»„ä»¶ï¼Œåªä¸è¿‡ä¿®æ”¹çš„å†…å®¹åœ¨ListViewçš„CSSä¸­ï¼Œæ ¸å¿ƒListView CSSå¦‚ä¸‹æ‰€ç¤ºï¼Œ</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">listViewStyle: &#123;</span><br><span class="line">    flexDirection: <span class="string">&#x27;row&#x27;</span>,</span><br><span class="line">    flexWrap: <span class="string">&#x27;wrap&#x27;</span></span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<p>å‰©ä¸‹çš„å®ç°æ–¹æ³•ä¸åœ¨iOSä¸­æ‰‹æ’¸ä¹å®«æ ¼æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œæ¯”å¦‚æ ¹æ®å½“å‰å±å¹•å®½åº¦ç®—æ¯ä¸ªCellçš„å·¦å³è¾¹è·ï¼Œè®¾ç½®ä¸ªæ•°ç­‰ç­‰ã€‚</p>
<p>tabBaræ˜¯æˆ‘æœ€å–œæ¬¢RNçš„åœ°æ–¹ï¼ˆå®ç°æ˜¯å¤ªæ–¹ä¾¿äº†ğŸ™‚ï¼‰ï¼Œå› ä¸ºtabBaråœ¨RNä¸­æœ‰å¹³å°å·®å¼‚æ€§ï¼Œåœ¨æ­¤æˆ‘ä»¬å…ˆç”¨RNæœ¬èº«æä¾›çš„tabBarIOSè¿›è¡Œå®ç°ï¼Œå…ˆæ¥çœ‹çœ‹åˆ°åº•æ˜¯æ€ä¹ˆå†™çš„ï¼Œ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;styles.container&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;styles.headViewStyle&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">Text</span> <span class="attr">style</span>=<span class="string">&#123;&#123;fontSize:</span> <span class="attr">25</span>, <span class="attr">marginTop:</span> <span class="attr">10</span>&#125;&#125;&gt;</span>PJHubs<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">View</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">TabBarIOS</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">barTintColor</span>= <span class="string">&quot;black&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">style</span>=<span class="string">&#123;&#123;flex:</span> <span class="attr">1</span>&#125;&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        &gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">TabBarIOS.Item</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">systemIcon</span>= <span class="string">&quot;contacts&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">badge</span>= <span class="string">&quot;3&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">selected</span>=<span class="string">&#123;this.state.selectedTabBarItem</span> == <span class="string">&quot;home&quot;</span>&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">onPress</span>=<span class="string">&#123;()</span> =&gt;</span> &#123;this.setState(&#123;selectedTabBarItem: &quot;home&quot;&#125;)&#125;&#125;</span></span><br><span class="line"><span class="language-xml">          &gt;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;[styles.commonViewStyle,</span> &#123;<span class="attr">backgroundColor:</span> &quot;<span class="attr">red</span>&quot;&#125;]&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">Text</span> <span class="attr">style</span>=<span class="string">&#123;styles.commonTextStyle&#125;</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">View</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">TabBarIOS.Item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">TabBarIOS.Item</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">systemIcon</span>= <span class="string">&quot;bookmarks&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">selected</span>=<span class="string">&#123;this.state.selectedTabBarItem</span> == <span class="string">&quot;second&quot;</span>&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">onPress</span>=<span class="string">&#123;()</span> =&gt;</span> &#123;this.setState(&#123;selectedTabBarItem: &quot;second&quot;&#125;)&#125;&#125;</span></span><br><span class="line"><span class="language-xml">          &gt;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;[styles.commonViewStyle,</span> &#123;<span class="attr">backgroundColor:</span> &quot;<span class="attr">blue</span>&quot;&#125;]&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">Text</span> <span class="attr">style</span>=<span class="string">&#123;styles.commonTextStyle&#125;</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">View</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">TabBarIOS.Item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">TabBarIOS.Item</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">systemIcon</span>= <span class="string">&quot;downloads&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              <span class="attr">selected</span>=<span class="string">&#123;this.state.selectedTabBarItem</span> == <span class="string">&quot;third&quot;</span>&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              <span class="attr">onPress</span>=<span class="string">&#123;()</span> =&gt;</span> &#123;this.setState(&#123;selectedTabBarItem: &quot;third&quot;&#125;)&#125;&#125;</span></span><br><span class="line"><span class="language-xml">          &gt;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;[styles.commonViewStyle,</span> &#123;<span class="attr">backgroundColor:</span> &quot;<span class="attr">green</span>&quot;&#125;]&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">Text</span> <span class="attr">style</span>=<span class="string">&#123;styles.commonTextStyle&#125;</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">View</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">TabBarIOS.Item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">TabBarIOS.Item</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">systemIcon</span>= <span class="string">&quot;search&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">selected</span>=<span class="string">&#123;this.state.selectedTabBarItem</span> == <span class="string">&quot;four&quot;</span>&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">onPress</span>=<span class="string">&#123;()</span> =&gt;</span> &#123;this.setState(&#123;selectedTabBarItem: &quot;four&quot;&#125;)&#125;&#125;</span></span><br><span class="line"><span class="language-xml">          &gt;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;[styles.commonViewStyle,</span> &#123;<span class="attr">backgroundColor:</span> &quot;<span class="attr">purple</span>&quot;&#125;]&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">Text</span> <span class="attr">style</span>=<span class="string">&#123;styles.commonTextStyle&#125;</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">View</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">TabBarIOS.Item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">TabBarIOS</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">View</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>ä»ä»¥ä¸Šä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼Œä¸»è¦æ˜¯å°±æ˜¯<code>tabBarIOS</code>å’Œ<code>tabBarIOS.Item</code>è¿™ä¸¤ä¸ªç»„ä»¶ï¼Œå…³äºæ¯ä¸ªæ¨ªå‘çš„tabBarä¸­è¦æ˜¾ç¤ºä»€ä¹ˆï¼Œç›´æ¥åœ¨tabBarItemé—­åˆæ ‡ç­¾ä¸­å†™æ˜å³å¯ã€‚éœ€è¦æ³¨æ„çš„åœ°æ–¹æ˜¯ï¼ŒRNä¸­tabBaræ¯”iOSåŸç”ŸTabBarå¤šäº†ä¸€æ­¥æ‰‹åŠ¨é€‰ä¸­çš„æ“ä½œï¼ˆä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯æ›´åŠ ç®€æ˜ğŸ™‚ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæŒ‡æ˜ä¸€ä¸ªç¬¬ä¸€æ¬¡è¿›æ¥é€‰ä¸­çš„tabï¼Œ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(props);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">      <span class="attr">selectedTabBarItem</span>: <span class="string">&quot;home&quot;</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>éšåï¼Œå¦‚ä¸Šå›¾tabBaråˆ›å»ºä»£ç æ‰€ç¤ºï¼Œæ ¹æ®<code>selected</code>å±æ€§å’Œ<code>onPress</code>å›è°ƒå‡½æ•°è¿›è¡Œtabçš„é€‰ä¸­åˆ¤æ–­å’Œå˜é‡èµ‹å€¼ã€‚å®é™…ä¸ŠNativeçš„tabBaré€‰ä¸­åˆ¤æ–­æ–¹æ³•ä¹Ÿå¦‚æ­¤è¿™èˆ¬çš„æ“ä½œï¼Œåªä¸è¿‡æˆ‘è¿˜æ˜¯å–œæ¬¢Nativeçš„åšæ³•ğŸ™‚ã€‚</p>
<img src="http://7xszq8.com1.z0.glb.clouddn.com/tarbar.gif" width = "40%" height = "40%" align=center />

<p><a target="_blank" rel="noopener" href="https://github.com/windstormeye/ReactNativePractices">è¯¦ç»†ä»£ç è§å·¥ç¨‹ï¼ŒlearnRN3ã€learnRN_ListView</a></p>
</div><div class="tags"><a href="/tags/%E8%B7%A8%E5%B9%B3%E5%8F%B0/"><i class="fa fa-tag"></i>è·¨å¹³å°</a><a href="/tags/React-Native/"><i class="fa fa-tag"></i>React-Native</a></div><div class="post-nav"><a class="pre" href="/2018/03/06/DiDi%EF%BC%88%E5%8D%81%E4%B8%80%EF%BC%89/">DiDiï¼ˆåä¸€ï¼‰</a><a class="next" href="/2018/02/09/More-%E5%BC%B9%E5%B9%95/">More-å¼¹å¹•</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> æ ‡ç­¾</i></div><div class="tagcloud"><a href="/tags/%E6%80%BB%E7%BB%93/" style="font-size: 15px;">æ€»ç»“</a> <a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/%E6%AF%94%E8%B5%9B/" style="font-size: 15px;">æ¯”èµ›</a> <a href="/tags/Cocos/" style="font-size: 15px;">Cocos</a> <a href="/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/" style="font-size: 15px;">æ¸¸æˆå¼€å‘</a> <a href="/tags/DiDi/" style="font-size: 15px;">DiDi</a> <a href="/tags/internship/" style="font-size: 15px;">internship</a> <a href="/tags/Flutter/" style="font-size: 15px;">Flutter</a> <a href="/tags/%E8%B7%A8%E5%B9%B3%E5%8F%B0/" style="font-size: 15px;">è·¨å¹³å°</a> <a href="/tags/Audio/" style="font-size: 15px;">Audio</a> <a href="/tags/Ping/" style="font-size: 15px;">Ping</a> <a href="/tags/%E5%BC%B9%E5%B9%95/" style="font-size: 15px;">å¼¹å¹•</a> <a href="/tags/%E9%A1%B5%E9%9D%A2%E4%BC%A0%E5%80%BC/" style="font-size: 15px;">é¡µé¢ä¼ å€¼</a> <a href="/tags/HUD/" style="font-size: 15px;">HUD</a> <a href="/tags/Swift/" style="font-size: 15px;">Swift</a> <a href="/tags/%E5%BC%80%E6%BA%90/" style="font-size: 15px;">å¼€æº</a> <a href="/tags/%E9%A1%B9%E7%9B%AE/" style="font-size: 15px;">é¡¹ç›®</a> <a href="/tags/PhotosKit/" style="font-size: 15px;">PhotosKit</a> <a href="/tags/React-Native/" style="font-size: 15px;">React-Native</a> <a href="/tags/swift/" style="font-size: 15px;">swift</a> <a href="/tags/Weex/" style="font-size: 15px;">Weex</a> <a href="/tags/Apple/" style="font-size: 15px;">Apple</a> <a href="/tags/%E6%84%9F%E6%83%B3/" style="font-size: 15px;">æ„Ÿæƒ³</a> <a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 15px;">åšå®¢</a> <a href="/tags/%E4%BA%91/" style="font-size: 15px;">äº‘</a> <a href="/tags/%E9%9A%8F%E6%83%B3/" style="font-size: 15px;">éšæƒ³</a> <a href="/tags/%E5%AD%97%E8%8A%82%E8%B7%B3%E5%8A%A8/" style="font-size: 15px;">å­—èŠ‚è·³åŠ¨</a> <a href="/tags/%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93/" style="font-size: 15px;">æœˆåº¦æ€»ç»“</a> <a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 15px;">éšç¬”</a> <a href="/tags/CMake/" style="font-size: 15px;">CMake</a> <a href="/tags/makefile/" style="font-size: 15px;">makefile</a> <a href="/tags/%E7%BC%96%E8%AF%91/" style="font-size: 15px;">ç¼–è¯‘</a> <a href="/tags/CodeLab/" style="font-size: 15px;">CodeLab</a> <a href="/tags/%E5%B0%91%E5%84%BF%E7%BC%96%E7%A8%8B/" style="font-size: 15px;">å°‘å„¿ç¼–ç¨‹</a> <a href="/tags/%E6%88%91%E7%9A%84%E5%A4%A7%E5%AD%A6/" style="font-size: 15px;">æˆ‘çš„å¤§å­¦</a> <a href="/tags/%E5%9B%9E%E5%BF%86%E5%BD%95/" style="font-size: 15px;">å›å¿†å½•</a> <a href="/tags/crash/" style="font-size: 15px;">crash</a> <a href="/tags/%E9%AA%91%E8%A1%8C/" style="font-size: 15px;">éª‘è¡Œ</a> <a href="/tags/%E8%87%AA%E8%A1%8C%E8%BD%A6/" style="font-size: 15px;">è‡ªè¡Œè½¦</a> <a href="/tags/fcc/" style="font-size: 15px;">fcc</a> <a href="/tags/%E5%88%86%E4%BA%AB/" style="font-size: 15px;">åˆ†äº«</a> <a href="/tags/%E6%B8%B8%E6%88%8F/" style="font-size: 15px;">æ¸¸æˆ</a> <a href="/tags/ifLab/" style="font-size: 15px;">ifLab</a> <a href="/tags/%E6%8A%80%E6%9C%AF/" style="font-size: 15px;">æŠ€æœ¯</a> <a href="/tags/%E5%BB%BA%E7%AB%99/" style="font-size: 15px;">å»ºç«™</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 15px;">é¢è¯•</a> <a href="/tags/%E7%A7%9F%E6%88%BF/" style="font-size: 15px;">ç§Ÿæˆ¿</a> <a href="/tags/iBistu/" style="font-size: 15px;">iBistu</a> <a href="/tags/macOS/" style="font-size: 15px;">macOS</a> <a href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" style="font-size: 15px;">ç¼–è¯‘åŸç†</a> <a href="/tags/%E7%9D%A1%E9%AD%94/" style="font-size: 15px;">ç¡é­”</a> <a href="/tags/Netflix/" style="font-size: 15px;">Netflix</a> <a href="/tags/%E6%91%84%E5%BD%B1/" style="font-size: 15px;">æ‘„å½±</a> <a href="/tags/%E4%BD%9C%E5%93%81/" style="font-size: 15px;">ä½œå“</a> <a href="/tags/%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/" style="font-size: 15px;">å¼€å‘æ—¥å¿—</a> <a href="/tags/App/" style="font-size: 15px;">App</a> <a href="/tags/%E4%BA%A7%E5%93%81%E6%80%9D%E8%80%83/" style="font-size: 15px;">äº§å“æ€è€ƒ</a> <a href="/tags/Playground/" style="font-size: 15px;">Playground</a> <a href="/tags/%E5%B7%A5%E4%BD%9C/" style="font-size: 15px;">å·¥ä½œ</a> <a href="/tags/SwiftUI/" style="font-size: 15px;">SwiftUI</a> <a href="/tags/%E5%BD%B1%E8%A7%86%E5%89%A7/" style="font-size: 15px;">å½±è§†å‰§</a> <a href="/tags/WWDC/" style="font-size: 15px;">WWDC</a> <a href="/tags/%E5%AD%97%E8%8A%82/" style="font-size: 15px;">å­—èŠ‚</a> <a href="/tags/%E8%B7%91%E6%AD%A5/" style="font-size: 15px;">è·‘æ­¥</a> <a href="/tags/%E9%A9%AC%E6%8B%89%E6%9D%BE/" style="font-size: 15px;">é©¬æ‹‰æ¾</a> <a href="/tags/%E8%BF%90%E5%8A%A8/" style="font-size: 15px;">è¿åŠ¨</a> <a href="/tags/%E8%B6%8A%E9%87%8E%E8%B7%91/" style="font-size: 15px;">è¶Šé‡è·‘</a> <a href="/tags/%E6%84%9F%E8%B0%A2/" style="font-size: 15px;">æ„Ÿè°¢</a> <a href="/tags/%E6%BB%B4%E6%BB%B4/" style="font-size: 15px;">æ»´æ»´</a> <a href="/tags/%E6%80%9D%E8%80%83/" style="font-size: 15px;">æ€è€ƒ</a> <a href="/tags/%E6%97%85%E8%A1%8C/" style="font-size: 15px;">æ—…è¡Œ</a> <a href="/tags/%E6%84%9F%E6%80%A7/" style="font-size: 15px;">æ„Ÿæ€§</a> <a href="/tags/%E9%9D%92%E5%B2%9B/" style="font-size: 15px;">é’å²›</a> <a href="/tags/%E5%BE%92%E6%AD%A5/" style="font-size: 15px;">å¾’æ­¥</a> <a href="/tags/Unity/" style="font-size: 15px;">Unity</a> <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/WatchOS/" style="font-size: 15px;">WatchOS</a> <a href="/tags/Combine/" style="font-size: 15px;">Combine</a> <a href="/tags/django/" style="font-size: 15px;">django</a> <a href="/tags/%E5%AE%9E%E4%B9%A0/" style="font-size: 15px;">å®ä¹ </a> <a href="/tags/%E5%BE%AE%E4%BF%A1/" style="font-size: 15px;">å¾®ä¿¡</a> <a href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 15px;">å°ç¨‹åº</a> <a href="/tags/UML/" style="font-size: 15px;">UML</a> <a href="/tags/%E6%90%9E%E4%BA%8B%E6%83%85%E7%B3%BB%E5%88%97/" style="font-size: 15px;">æäº‹æƒ…ç³»åˆ—</a> <a href="/tags/%E4%B8%83%E7%89%9B%E4%BA%91/" style="font-size: 15px;">ä¸ƒç‰›äº‘</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/Spring/" style="font-size: 15px;">Spring</a> <a href="/tags/Mybatis/" style="font-size: 15px;">Mybatis</a> <a href="/tags/Junit/" style="font-size: 15px;">Junit</a> <a href="/tags/log4j/" style="font-size: 15px;">log4j</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/Spring-MVC/" style="font-size: 15px;">Spring MVC</a> <a href="/tags/%E5%9B%BD%E9%99%85%E5%8C%96/" style="font-size: 15px;">å›½é™…åŒ–</a> <a href="/tags/%E6%BC%94%E8%AE%B2/" style="font-size: 15px;">æ¼”è®²</a> <a href="/tags/%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF/" style="font-size: 15px;">å³æ—¶é€šè®¯</a> <a href="/tags/side-project/" style="font-size: 15px;">side project</a> <a href="/tags/Qt/" style="font-size: 15px;">Qt</a> <a href="/tags/C-%E8%B7%A8%E7%AB%AF/" style="font-size: 15px;">C++ è·¨ç«¯</a> <a href="/tags/C/" style="font-size: 15px;">C++</a> <a href="/tags/%E5%93%8D%E5%BA%94%E5%BC%8F/" style="font-size: 15px;">å“åº”å¼</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> è”ç³»æˆ‘</i></div><ul></ul><a href="https://github.com/windstormeye" title="GitHub - PJHubs" target="_blank">GitHub - PJHubs</a><ul></ul><a href="https://www.xiaohongshu.com/user/profile/5f2cd0360000000001001470" title="å°çº¢ä¹¦ - PJHubs" target="_blank">å°çº¢ä¹¦ - PJHubs</a><ul></ul><a href="https://www.instagram.com/pjhubs/" title="Instagram - PJHubs" target="_blank">Instagram - PJHubs</a><ul></ul><a href="https://space.bilibili.com/25392474" title="BiliBili - PJHubs" target="_blank">BiliBili - PJHubs</a><ul></ul><a href="https://twitter.com/wengpeijun" title="Twitter - PJHubs" target="_blank">Twitter - PJHubs</a><ul></ul><a href="." title="é‚®ç®± - 877302410@qq.com" target="_blank">é‚®ç®± - 877302410@qq.com</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright Â© 2025 PJHubs</div></div></div><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>