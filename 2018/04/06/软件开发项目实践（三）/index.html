<!DOCTYPE html><html lang="zh-Hans"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="ä¹Ÿå°±éª‘ä¸ªè½¦ï¼Œé¡ºä¾¿å†™ç‚¹ç ï¼Œå†å»çœ‹çœ‹æ™¯"><title>è½¯ä»¶å¼€å‘é¡¹ç›®å®è·µï¼ˆä¸‰ï¼‰ | PJHubs</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"><meta name="generator" content="Hexo 6.2.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">è½¯ä»¶å¼€å‘é¡¹ç›®å®è·µï¼ˆä¸‰ï¼‰</h1><a id="logo" href="/.">PJHubs</a><p class="description">ä¹Ÿå°±éª‘ä¸ªè½¦ï¼Œé¡ºä¾¿å†™ç‚¹ç ï¼Œå†å»çœ‹çœ‹æ™¯</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa undefined"> æ–‡ç« </i></a><a href="/archives/"><i class="fa undefined"> æ€»è§ˆ</i></a><a href="/photograph/"><i class="fa undefined"> æ‘„å½±</i></a><a href="/about/"><i class="fa undefined"> å…³äº</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">è½¯ä»¶å¼€å‘é¡¹ç›®å®è·µï¼ˆä¸‰ï¼‰</h1><div class="post-meta">2018-04-06</div><div class="post-content"><p>ç»ˆäºåˆ°äº†å®éªŒä¸‰ï¼Œåæ§½ä¸€å¥ï¼Œç¯å¢ƒä¸ä¸€è‡´çœŸçš„å¾ˆéš¾å—ï¼Œåˆä¸æƒ³ç”¨Eclipseï¼Œè¿˜ä¸æƒ³é‡å†™ä¸€ä»½ï¼Œè¿™çœŸçš„æ˜¯å¾ˆéš¾åŠçš„äº‹æƒ…å‘¢ã€‚ğŸ™„</p>
<p><strong>1. å®ŒæˆPersistServiceå’ŒSelectServiceè¿™ä¸¤ä¸ªå®ç°ç±»ä¸­æ‰€æœ‰æ–¹æ³•ï¼Œå®šä¹‰ä»–ä»¬çš„æŠ½è±¡çˆ¶ç±»ï¼Œå¹¶æŠ½è±¡å‡ºå…¬å…±æ–¹æ³•ï¼Œä¸”ç”¨åˆ°æšä¸¾ã€‚</strong></p>
<p>æœ‰å¯èƒ½æˆ‘çœ‹æ¼äº†ï¼Œæˆ–è€…ç†è§£é”™æŠ¥å‘Šè¦æ±‚çš„æ„æ€äº†ï¼Œå…ˆè¿™ä¹ˆåšå§ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// persistService</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateStudent</span><span class="params">(StudentModel t, Integer id)</span> &#123;</span><br><span class="line">	<span class="keyword">try</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (!<span class="built_in">super</span>.checkWhitePermission(id)) &#123;</span><br><span class="line">			<span class="type">String</span> <span class="variable">string</span> <span class="operator">=</span> String.format(<span class="string">&quot;è®°å½•%sæ— æ³•æ›´æ–°&quot;</span>, id);</span><br><span class="line">			logger.warn(string);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		studentMapper.updateStudent(t, id);</span><br><span class="line">		logger.info(<span class="string">&quot;è®°å½•&quot;</span> + id + <span class="string">&quot;å·²ç»æ›´æ–°&quot;</span>);</span><br><span class="line"></span><br><span class="line">	&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">		logger.error(<span class="string">&quot;Error&quot;</span>, e);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// studentMapperTest</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUpdateStudent</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="type">StudentModel</span> <span class="variable">studentModel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StudentModel</span>(<span class="string">&quot;ç‹äº”&quot;</span>, <span class="string">&quot;å¥³&quot;</span>, <span class="string">&quot;è½¯ä»¶äºŒç­&quot;</span>, <span class="number">1</span>, <span class="number">60</span> ,<span class="number">60</span> ,<span class="number">60</span>, <span class="number">60</span>);</span><br><span class="line">  persistService.updateStudent(studentModel, <span class="number">1</span>);</span><br><span class="line">  logger.info(<span class="string">&quot;æ›´æ–°æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ²¡çœ‹åˆ°SelectServiceç±»é‡Œæœ‰å…¶å®ƒéœ€è¦å®ç°çš„ç±»ï¼Œä¹Ÿçœ‹äº†å…¶ç»§æ‰¿çš„ç±»å’Œæ¥å£ï¼ŒåŒæ ·éƒ½è¢«å®ç°è¿‡äº†ã€‚</p>
<p><strong>å®šä¹‰ä»–ä»¬çš„æŠ½è±¡çˆ¶ç±»ï¼Œå¹¶æŠ½è±¡å‡ºå…¬å…±æ–¹æ³•ï¼Œä¸”ç”¨åˆ°æšä¸¾</strong>ï¼Œè¿™å‡ å¥è¯æƒ³äº†å¥½ä¹…ï¼Œæ²¡ææ‡‚ä»€ä¹ˆæ„æ€ï¼Œè™½ç„¶è¿™ä¸¤ä¸ªç±»éƒ½æœ‰åœ¨å¯¹StudentModelåšäº‹æƒ…ï¼Œä½†æ˜¯åŒºåˆ†åº¦å·²ç»å¾ˆå¤§äº†å“‡ï¼Œæ²¡ææ‡‚è¿˜èƒ½æŠ½å‡ºä»€ä¹ˆå…¬å…±æ–¹æ³•ï¼Œä½†æ˜¯çœ‹åˆ°äº†åè¾¹è¯´ <strong>ä¸”éœ€è¦ç”¨åˆ°æšä¸¾</strong> ï¼Œéš¾é“æ˜¯è¦æŠŠè¿™å‡ ä¸ªå¯¹StudentModelæ“ä½œçš„æ–¹æ³•éƒ½ç»Ÿä¸€åˆ°ä¸€ä¸ªçˆ¶ç±»é‡Œï¼Œç„¶åæ ¹æ®çˆ¶ç±»é‡Œçš„typeç±»å‹æšä¸¾å»åˆ¤æ–­å½“å‰å­ç±»æ˜¯å¦æœ‰â€œæƒé™â€å»æ‰§è¡Œè¿™ä¸ªæ–¹æ³•ï¼Ÿæ€æ¥æƒ³å»ï¼Œè¿˜æ˜¯æ²¡ææ‡‚æ˜¯å•¥æ„æ€ã€‚å¾…åšæ±‚è§£ã€‚</p>
<p><strong>2. éªŒè¯è¯¾å ‚ä¸ŠAOPçš„ç›¸å…³æ ·ä¾‹ä»£ç ï¼Œç¼–å†™åœ¨è‡ªå·±ä¸šåŠ¡åœºæ™¯ä¸‹çš„é¢å‘åˆ‡é¢ç¨‹åºï¼ŒåŒ…æ‹¬before,after,around,After-Returningè¿™å››ç§é€šçŸ¥ã€‚</strong></p>
<p>è‡ªå·±è§‰å¾—Spring AOPæœ‰ç”¨åˆ°äº†ç±»ä¼¼JVMçš„runtimeå†…å®¹ï¼ˆå­˜ç²¹è‡ªå·±çš„çŒœæµ‹ï¼Œæ²¡æœ‰æŸ¥é˜…è¿‡ç›¸å…³èµ„æ–™ï¼‰ï¼Œåœ¨è¿è¡Œæ—¶åšäº†æ›¿æ¢ï¼Œæ¯”å¦‚è¯´AABBç±»åœ¨æ‰§è¡Œ<code>method()</code>ä¹‹å‰ï¼Œé€šè¿‡AOPçš„é…ç½®æ–‡ä»¶è¡¨æ˜æ˜¯ç”¨å“ªä¸ªç±»çš„å“ªä¸ªæ–¹æ³•åœ¨å“ªäº›ç±»çš„å“ªäº›æ–¹æ³•è¿è¡Œå‰ã€åç­‰æ—¶æœŸå…ˆæ‰§è¡Œï¼Œè¿™ç‚¹è·ŸOCä¸­çš„<code>Runtime</code>æ€è·¯éå¸¸çš„ç±»ä¼¼ï¼Œä½¿ç”¨AOPå¯ä»¥æœ‰ä¸¤ç§åšæ³•ï¼Œä¸€æ˜¯é€šè¿‡AOPç±»ä½¿ç”¨javaæ³¨è§£çš„æ–¹å¼è¡¨æ˜ï¼Œå¦å¤–ä¸€ç§æ˜¯åœ¨Springé…ç½®æ–‡ä»¶ä¸­å†™æ˜æ˜¯å“ªä¸ªç±»çš„å“ªä¸ªæ–¹æ³•éœ€è¦åœ¨ä»€ä¹ˆåœ°æ–¹è¢«æ‰§è¡Œï¼Œç»è¿‡ä¸€ç•ªæŠ˜è…¾ä¸‹æ¥ï¼Œä¸ªäººè§‰å¾—ä½¿ç”¨Springé…ç½®æ–‡ä»¶å†™æ˜åˆ‡é¢å‡½æ•°çš„è°ƒç”¨æ¯”è¾ƒå¥½ã€‚</p>
<p>è€å¸ˆä¸€ç›´æƒ³è®©æˆ‘ä»¬ç¼–å†™è‡ªå·±çš„ä¸šåŠ¡åœºæ™¯ï¼Œè‡ªå·±çš„ä¸šåŠ¡åœºæ™¯ï¼Œä½†æ˜¯è½å®åˆ°å®å¤„å°±æ˜¯æƒ³è¦å»éªŒè¯AOPæ˜¯ä½ è‡ªå·±å†™çš„å˜›ï¼Œemmmï¼Œé‚£å°±ä¸Šdemoç¨‹åºå¥½äº†ã€‚</p>
<ol start="0">
<li><p>åˆ›å»ºSpringå·¥ç¨‹ï¼Œå¯¼å…¥é¢å¤–çš„<a target="_blank" rel="noopener" href="http://www.java2s.com/Code/Jar/a/aopalliance.htm">aopalliance.jar</a>å’Œ<a target="_blank" rel="noopener" href="http://mvnrepository.com/artifact/org.aspectj/aspectjweaver/1.8.7">aspectjweaver</a>åŒ…</p>
</li>
<li><p>åˆ›å»º<code>User</code>ç±»ï¼›</p>
</li>
</ol>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String nickname;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getNickname</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> nickname;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setNickname</span><span class="params">(String nickname)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.nickname = nickname;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>åˆ›å»º<code>UserMapper</code>ç±»ï¼Œå¯ä»¥ä¸ç”¨æ‰‹æ’¸SQLï¼Œè®©Mybatiså»åšï¼š</li>
</ol>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">selectUserWithID</span><span class="params">(<span class="type">int</span> ID)</span> <span class="keyword">throws</span> Exception;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="3">
<li><p>åˆ›å»º<code>selectUserAdvice</code>ç±»ï¼Œé‡Œè¾¹åŒ…å«äº†å¯¹Userç±»è¿›è¡Œæ“ä½œçš„æ‰€æœ‰åˆ‡é¢ç¨‹åºï¼š</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">userAdvice</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">userSayHello</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;user say hello!&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">userSayBay</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;user say bay!&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">userSaySee</span><span class="params">()</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;user say see!&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">userSayUser</span><span class="params">(User user)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;user say &quot;</span> + user.nickname);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®User.xmlï¼Œä¾›MyBatisæ“ä½œuserè¡¨ï¼š</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span> <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.pjhubs.UserMapper&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectUserWithID&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;int&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.pjhubs.User&quot;</span>&gt;</span></span><br><span class="line">      select * from user where id = #&#123;id&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®SqlMapConfig.xmlï¼ŒMyBatisçš„é…ç½®æ–‡ä»¶ï¼š</p>
</li>
</ol>
  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis?useSSL=false&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;your DB name&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;your DB password&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;User.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="6">
<li><p>åˆ›å»ºSpringé…ç½®æ–‡ä»¶ï¼ˆintelliJåœ¨åˆ›å»ºSpringå·¥ç¨‹çš„æ—¶å€™å¯è¿›è¡Œå‹¾é€‰ååŠ©åˆ›å»ºï¼‰ï¼Œå¹¶å†™ä¸‹ï¼Œï¼ˆå‚è€ƒå®éªŒæ–‡æ¡£ä¸­å†…å®¹ï¼‰ï¼š</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">	<span class="attr">xmlns:task</span>=<span class="string">&quot;http://www.springframework.org/schema/task&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">	<span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span> <span class="attr">xmlns:tx</span>=<span class="string">&quot;http://www.springframework.org/schema/tx&quot;</span></span></span><br><span class="line"><span class="tag">	<span class="attr">xmlns:util</span>=<span class="string">&quot;http://www.springframework.org/schema/util&quot;</span> <span class="attr">xmlns:p</span>=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span></span><br><span class="line"><span class="tag">	<span class="attr">xmlns:cache</span>=<span class="string">&quot;http://www.springframework.org/schema/cache&quot;</span></span></span><br><span class="line"><span class="tag">	<span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">	http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">	http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.5.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">	http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.0.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">	http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.pjhubs.user&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userAdvice&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.pjhubs.userAdvice&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">aop:config</span> <span class="attr">proxy-target-class</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;selectUser&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;target(com.pjhubs.user) and execution(* select*(..))&quot;</span> /&gt;</span></span><br><span class="line">		  <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">id</span>=<span class="string">&quot;userAdvice&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;userAdvice&quot;</span>&gt;</span></span><br><span class="line">			  <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">&quot;userSayHello&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;selectUser&quot;</span> /&gt;</span></span><br><span class="line">			  <span class="tag">&lt;<span class="name">aop:around</span> <span class="attr">method</span>=<span class="string">&quot;userSayBay&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;selectUser&quot;</span> /&gt;</span></span><br><span class="line">  			<span class="tag">&lt;<span class="name">aop:after</span> <span class="attr">method</span>=<span class="string">&quot;userSaySee&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;selectUser&quot;</span> /&gt;</span></span><br><span class="line">  			<span class="tag">&lt;<span class="name">aop:after-returning</span> <span class="attr">method</span>=<span class="string">&quot;userSayUser&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;selectUser&quot;</span> <span class="attr">returning</span>=<span class="string">&quot;bindParam&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>æµ‹è¯•ã€‚åŒæ—¶ä¹Ÿåœ¨åšç¬¬ä¸‰é¢˜â€”â€”ï¼ˆ<strong>åˆ©ç”¨Springæ¡†æ¶çš„å•å…ƒæµ‹è¯•è·‘é€šä»¥ä¸Šæ‰€æœ‰æ–¹æ³•ã€‚</strong>ï¼‰ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»å¼•å…¥äº†Springï¼Œæ‰€ä»¥å°±ä¸è¦å†åªæ˜¯ä½¿ç”¨JUnitå•¦~éœ€è¦åŒæ—¶å¼•å…¥ä»¥ä¸‹jaråŒ…ï¼Œ</p>
</li>
</ol>
<ul>
<li>JUnit4</li>
<li>Spring-Test<br>  æœ¬ç€èµ¶ç´§åšå®Œçš„å¿ƒæ€ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨Mavenç­‰ä¾èµ–å·¥å…·å¯¹javaå·¥ç¨‹çš„å„ç§ä¾èµ–åŒ…è¿›è¡Œç®¡ç†ğŸ™‚ï¼Œæ‰€ä»¥æ¯æ¬¡éƒ½ä¼šå¯¹å…¶æ‰‹åŠ¨æ·»åŠ jaråŒ…ã€‚emmmã€‚åˆ›å»ºæµ‹è¯•ç±»<code>userTest</code>:</li>
</ul>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="meta">@ContextConfiguration(&quot;/spring-config.xml&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">userTest</span>() &#123;</span><br><span class="line">  <span class="meta">@Resource</span></span><br><span class="line">  <span class="keyword">public</span> User user;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Test</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectUser</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userMapper.selectUserWithID(<span class="number">2</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;id:&quot;</span> + user.getId() + <span class="string">&quot; æ˜µç§°ï¼š&quot;</span> + user.getNickname());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="å¦‚æœä½ å«Œå¼ƒä¸Šè¾¹è¯´çš„å¤ªå•°å—¦ï¼Œé‚£ä¹ˆè¿™è¿˜æœ‰ä¸ªç®€çº¦ç‰ˆçš„ã€‚"><a href="#å¦‚æœä½ å«Œå¼ƒä¸Šè¾¹è¯´çš„å¤ªå•°å—¦ï¼Œé‚£ä¹ˆè¿™è¿˜æœ‰ä¸ªç®€çº¦ç‰ˆçš„ã€‚" class="headerlink" title="å¦‚æœä½ å«Œå¼ƒä¸Šè¾¹è¯´çš„å¤ªå•°å—¦ï¼Œé‚£ä¹ˆè¿™è¿˜æœ‰ä¸ªç®€çº¦ç‰ˆçš„ã€‚"></a>å¦‚æœä½ å«Œå¼ƒä¸Šè¾¹è¯´çš„å¤ªå•°å—¦ï¼Œé‚£ä¹ˆè¿™è¿˜æœ‰ä¸ªç®€çº¦ç‰ˆçš„ã€‚</h2><p>é¦–å…ˆåœ¨intelliJä¸‹åˆ›å»ºä¸€ä¸ªSpringå·¥ç¨‹ï¼Œå½“ç„¶è¦ä½ çš„intelliJæ˜¯ç¤¾åŒºç‰ˆçš„å°±ç®—äº†ï¼ŒåŠŸèƒ½æ”¯æŒçš„å—é™ã€‚è®°å¾—å‹¾é€‰åˆ›å»ºé»˜è®¤çš„Spring XMLé…ç½®æ–‡ä»¶ã€‚</p>
<h3 id="éªŒè¯IOCç›¸å…³å†…å®¹ï¼Œéšæ„åˆ›å»ºä¸€ä¸ªç±»ï¼Œåœ¨å…¶ä¸­éšæ„å†™ä¸‹ä¸€ä¸ªæ–¹æ³•ï¼Œ"><a href="#éªŒè¯IOCç›¸å…³å†…å®¹ï¼Œéšæ„åˆ›å»ºä¸€ä¸ªç±»ï¼Œåœ¨å…¶ä¸­éšæ„å†™ä¸‹ä¸€ä¸ªæ–¹æ³•ï¼Œ" class="headerlink" title="éªŒè¯IOCç›¸å…³å†…å®¹ï¼Œéšæ„åˆ›å»ºä¸€ä¸ªç±»ï¼Œåœ¨å…¶ä¸­éšæ„å†™ä¸‹ä¸€ä¸ªæ–¹æ³•ï¼Œ"></a>éªŒè¯IOCç›¸å…³å†…å®¹ï¼Œéšæ„åˆ›å»ºä¸€ä¸ªç±»ï¼Œåœ¨å…¶ä¸­éšæ„å†™ä¸‹ä¸€ä¸ªæ–¹æ³•ï¼Œ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IOCTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String IOCName;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getIOCName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> IOCName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setIOCName</span><span class="params">(String IOCName)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.IOCName = IOCName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printIOCName</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(IOCName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>åœ¨å·¥ç¨‹é»˜è®¤ç”Ÿæˆçš„Spring XMLé…ç½®æ–‡ä»¶ä¸­ï¼Œæ–°å¢ï¼Œ</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=<span class="string">&quot;IOCTest&quot;</span> class=<span class="string">&quot;IOCTest&quot;</span>&gt;</span><br><span class="line">	&lt;property name=<span class="string">&quot;IOCName&quot;</span> value=<span class="string">&quot;pjhubs&quot;</span>&gt;&lt;/property&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨Mainç±»ä¸­æˆ–è€…æ–°å»ºä¸€ä¸ªæµ‹è¯•ç±»çš„æµ‹è¯•æ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•ä¸­å†™ä¸‹ï¼Œ</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        ApplicationContext context=<span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;spring-config.xml&quot;</span>);</span><br><span class="line">        <span class="type">IOCTest</span> <span class="variable">iocTest</span> <span class="operator">=</span> (IOCTest)context.getBean(<span class="string">&quot;IOCTest&quot;</span>);</span><br><span class="line">        iocTest.printIOCName();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å®Œæˆäº†IOCçš„å†…å®¹ï¼ŒæŠŠåˆ›å»ºå¯¹è±¡çš„èƒ½åŠ›â€œè½¬ç§»â€æ‰äº†ï¼ŒåŒæ—¶ä¹Ÿè¾¾åˆ°äº†æˆ‘ä»¬åªéœ€è¦å®šä¹‰æ¥å£ï¼Œç›¸å…³ç±»çš„æ§åˆ¶äº¤ç”±IOCç®¡ç†å³å¯ï¼Œè€Œä¸”å½“æˆ‘ä»¬æœ‰éœ€è¦å¯¹ä¸¤ä¸ªç±»å®šä¹‰å…³ç³»æ—¶ï¼Œåªéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰å¥½å³å¯ã€‚</p>
<h3 id="éªŒè¯AOCçš„ç›¸å…³å†…å®¹"><a href="#éªŒè¯AOCçš„ç›¸å…³å†…å®¹" class="headerlink" title="éªŒè¯AOCçš„ç›¸å…³å†…å®¹"></a>éªŒè¯AOCçš„ç›¸å…³å†…å®¹</h3><ol>
<li><p>åˆ›å»ºå¥½å·¥ç¨‹åï¼Œåœ¨<a target="_blank" rel="noopener" href="http://www.java2s.com/Code/Jar/a/Downloadaspectjweaver172jar.htm">è¿™ä¸ªåœ°å€</a>ä¸‹è½½<code>aspectjweaver</code>åŒ…ï¼Œå¯¼å…¥å·¥ç¨‹ã€‚</p>
</li>
<li><p>åˆ†åˆ«åˆ›å»ºä¸¤ä¸ªç±»ï¼Œæœ¬æ¬¡æˆ‘ä»¬é‡‡ç”¨XMLæ–‡ä»¶é…ç½®çš„æ–¹å¼æ¥åšAOPï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œ</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AOPTest</span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">AOPTest</span><span class="params">()</span> &#123;</span><br><span class="line">       System.out.println(<span class="string">&quot;AOPTest......&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.ProceedingJoinPoint;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AOPMethon</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å‰ç½®å¢å¼º</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å‰ç½®å¢å¼º........&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åç½®å¢å¼º</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">after</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åç½®å¢å¼º........&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç¯ç»•å¢å¼º</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">arround</span><span class="params">(ProceedingJoinPoint proceedingJoinPoint)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        <span class="comment">//æ–¹æ³•ä¹‹å‰æ‰§è¡Œçš„ä»£ç </span></span><br><span class="line">        System.out.println(<span class="string">&quot;ç¯ç»•å¢å¼º æ–¹æ³•ä¹‹å‰æ‰§è¡Œ........&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ‰§è¡Œè¢«å¢å¼ºçš„æ–¹æ³•</span></span><br><span class="line">        proceedingJoinPoint.proceed();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ–¹æ³•ä¹‹åæ‰§è¡Œçš„ä»£ç </span></span><br><span class="line">        System.out.println(<span class="string">&quot;ç¯ç»•å¢å¼º æ–¹æ³•ä¹‹åæ‰§è¡Œ........&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹Spring XMLé…ç½®æ–‡ä»¶ä¸ºï¼Œ</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--1 é…ç½®å¯¹è±¡--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;AOPMethon&quot;</span> <span class="attr">id</span>=<span class="string">&quot;AOPMethon&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;AOPTest&quot;</span> <span class="attr">id</span>=<span class="string">&quot;AOPTest&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--2 é…ç½®AOPæ“ä½œ--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--é…ç½®åˆ‡å…¥ç‚¹--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;pointcut&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* AOPTest.AOPTest())&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--é…ç½®åˆ‡é¢</span></span><br><span class="line"><span class="comment">            æŠŠå¢å¼ºç”¨åˆ°æ–¹æ³•ä¸Šé¢</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">ref</span>=<span class="string">&quot;AOPMethon&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--å‰ç½®å¢å¼º--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">&quot;before&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pointcut&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!--åç½®å¢å¼º--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:after-returning</span> <span class="attr">method</span>=<span class="string">&quot;after&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pointcut&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!--ç¯ç»•å¢å¼º--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:around</span> <span class="attr">method</span>=<span class="string">&quot;arround&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pointcut&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–°å»ºä¸€ä¸ªæµ‹è¯•ç±»ï¼Œå†™ä¸‹ç›¸å…³çš„æµ‹è¯•æ–¹æ³•ï¼Œ</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">	<span class="keyword">import</span> org.junit.Test;</span><br><span class="line">	<span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line">	<span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test</span> &#123;</span><br><span class="line">	    <span class="meta">@Test</span></span><br><span class="line">	    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">AOPTest</span><span class="params">()</span> &#123;</span><br><span class="line">	        <span class="type">ApplicationContext</span> <span class="variable">applicationContext</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;spring-config.xml&quot;</span>);</span><br><span class="line">	        <span class="type">AOPTest</span> <span class="variable">aopTest</span> <span class="operator">=</span> (AOPTest) applicationContext.getBean(<span class="string">&quot;AOPTest&quot;</span>);</span><br><span class="line">	        aopTest.AOPTest();</span><br><span class="line">	    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºçš„ç»“æœä¸ºï¼š</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å‰ç½®å¢å¼º........</span><br><span class="line">ç¯ç»•å¢å¼º æ–¹æ³•ä¹‹å‰æ‰§è¡Œ........</span><br><span class="line">AOPTest......</span><br><span class="line">ç¯ç»•å¢å¼º æ–¹æ³•ä¹‹åæ‰§è¡Œ........</span><br><span class="line">åç½®å¢å¼º........</span><br></pre></td></tr></table></figure></li>
</ol>
<p>è‡³äºAOPä¸­çš„è¿™å‡ ä¸ªå¢å¼ºæ–¹æ³•çš„åŒºåˆ«ï¼Œå°±ä¸å±•å¼€å•¦~~~</p>
</div><div class="tags"><a href="/tags/Java/"><i class="fa fa-tag"></i>Java</a><a href="/tags/Spring/"><i class="fa fa-tag"></i>Spring</a></div><div class="post-nav"><a class="pre" href="/2018/04/09/%E6%8B%9B%E4%B8%80%E4%B8%AA%E9%9D%A0%E8%B0%B1%E7%9A%84iOS%E5%AE%9E%E4%B9%A0%E7%94%9F%EF%BC%88%E9%99%84%E5%8F%82%E8%80%83%E7%AD%94%E6%A1%88%EF%BC%89/">æ‹›ä¸€ä¸ªé è°±çš„iOSå®ä¹ ç”Ÿï¼ˆé™„å‚è€ƒç­”æ¡ˆï¼‰</a><a class="next" href="/2018/04/03/DiDi%EF%BC%88%E5%8D%81%E5%85%AD%EF%BC%89/">DiDiï¼ˆåå…­ï¼‰</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> æ ‡ç­¾</i></div><div class="tagcloud"><a href="/tags/%E6%80%BB%E7%BB%93/" style="font-size: 15px;">æ€»ç»“</a> <a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/%E6%AF%94%E8%B5%9B/" style="font-size: 15px;">æ¯”èµ›</a> <a href="/tags/Cocos/" style="font-size: 15px;">Cocos</a> <a href="/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/" style="font-size: 15px;">æ¸¸æˆå¼€å‘</a> <a href="/tags/DiDi/" style="font-size: 15px;">DiDi</a> <a href="/tags/internship/" style="font-size: 15px;">internship</a> <a href="/tags/Flutter/" style="font-size: 15px;">Flutter</a> <a href="/tags/%E8%B7%A8%E5%B9%B3%E5%8F%B0/" style="font-size: 15px;">è·¨å¹³å°</a> <a href="/tags/Audio/" style="font-size: 15px;">Audio</a> <a href="/tags/Ping/" style="font-size: 15px;">Ping</a> <a href="/tags/%E5%BC%B9%E5%B9%95/" style="font-size: 15px;">å¼¹å¹•</a> <a href="/tags/%E9%A1%B5%E9%9D%A2%E4%BC%A0%E5%80%BC/" style="font-size: 15px;">é¡µé¢ä¼ å€¼</a> <a href="/tags/HUD/" style="font-size: 15px;">HUD</a> <a href="/tags/Swift/" style="font-size: 15px;">Swift</a> <a href="/tags/%E5%BC%80%E6%BA%90/" style="font-size: 15px;">å¼€æº</a> <a href="/tags/%E9%A1%B9%E7%9B%AE/" style="font-size: 15px;">é¡¹ç›®</a> <a href="/tags/PhotosKit/" style="font-size: 15px;">PhotosKit</a> <a href="/tags/React-Native/" style="font-size: 15px;">React-Native</a> <a href="/tags/swift/" style="font-size: 15px;">swift</a> <a href="/tags/Weex/" style="font-size: 15px;">Weex</a> <a href="/tags/Apple/" style="font-size: 15px;">Apple</a> <a href="/tags/%E6%84%9F%E6%83%B3/" style="font-size: 15px;">æ„Ÿæƒ³</a> <a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 15px;">åšå®¢</a> <a href="/tags/%E4%BA%91/" style="font-size: 15px;">äº‘</a> <a href="/tags/%E9%9A%8F%E6%83%B3/" style="font-size: 15px;">éšæƒ³</a> <a href="/tags/%E5%AD%97%E8%8A%82%E8%B7%B3%E5%8A%A8/" style="font-size: 15px;">å­—èŠ‚è·³åŠ¨</a> <a href="/tags/%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93/" style="font-size: 15px;">æœˆåº¦æ€»ç»“</a> <a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 15px;">éšç¬”</a> <a href="/tags/CMake/" style="font-size: 15px;">CMake</a> <a href="/tags/makefile/" style="font-size: 15px;">makefile</a> <a href="/tags/%E7%BC%96%E8%AF%91/" style="font-size: 15px;">ç¼–è¯‘</a> <a href="/tags/CodeLab/" style="font-size: 15px;">CodeLab</a> <a href="/tags/%E5%B0%91%E5%84%BF%E7%BC%96%E7%A8%8B/" style="font-size: 15px;">å°‘å„¿ç¼–ç¨‹</a> <a href="/tags/%E6%88%91%E7%9A%84%E5%A4%A7%E5%AD%A6/" style="font-size: 15px;">æˆ‘çš„å¤§å­¦</a> <a href="/tags/%E5%9B%9E%E5%BF%86%E5%BD%95/" style="font-size: 15px;">å›å¿†å½•</a> <a href="/tags/crash/" style="font-size: 15px;">crash</a> <a href="/tags/%E9%AA%91%E8%A1%8C/" style="font-size: 15px;">éª‘è¡Œ</a> <a href="/tags/%E8%87%AA%E8%A1%8C%E8%BD%A6/" style="font-size: 15px;">è‡ªè¡Œè½¦</a> <a href="/tags/fcc/" style="font-size: 15px;">fcc</a> <a href="/tags/%E5%88%86%E4%BA%AB/" style="font-size: 15px;">åˆ†äº«</a> <a href="/tags/%E6%B8%B8%E6%88%8F/" style="font-size: 15px;">æ¸¸æˆ</a> <a href="/tags/ifLab/" style="font-size: 15px;">ifLab</a> <a href="/tags/%E6%8A%80%E6%9C%AF/" style="font-size: 15px;">æŠ€æœ¯</a> <a href="/tags/%E5%BB%BA%E7%AB%99/" style="font-size: 15px;">å»ºç«™</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 15px;">é¢è¯•</a> <a href="/tags/%E7%A7%9F%E6%88%BF/" style="font-size: 15px;">ç§Ÿæˆ¿</a> <a href="/tags/iBistu/" style="font-size: 15px;">iBistu</a> <a href="/tags/macOS/" style="font-size: 15px;">macOS</a> <a href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" style="font-size: 15px;">ç¼–è¯‘åŸç†</a> <a href="/tags/%E7%9D%A1%E9%AD%94/" style="font-size: 15px;">ç¡é­”</a> <a href="/tags/Netflix/" style="font-size: 15px;">Netflix</a> <a href="/tags/%E6%91%84%E5%BD%B1/" style="font-size: 15px;">æ‘„å½±</a> <a href="/tags/%E4%BD%9C%E5%93%81/" style="font-size: 15px;">ä½œå“</a> <a href="/tags/%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/" style="font-size: 15px;">å¼€å‘æ—¥å¿—</a> <a href="/tags/App/" style="font-size: 15px;">App</a> <a href="/tags/%E4%BA%A7%E5%93%81%E6%80%9D%E8%80%83/" style="font-size: 15px;">äº§å“æ€è€ƒ</a> <a href="/tags/Playground/" style="font-size: 15px;">Playground</a> <a href="/tags/%E5%B7%A5%E4%BD%9C/" style="font-size: 15px;">å·¥ä½œ</a> <a href="/tags/SwiftUI/" style="font-size: 15px;">SwiftUI</a> <a href="/tags/%E5%BD%B1%E8%A7%86%E5%89%A7/" style="font-size: 15px;">å½±è§†å‰§</a> <a href="/tags/WWDC/" style="font-size: 15px;">WWDC</a> <a href="/tags/%E5%AD%97%E8%8A%82/" style="font-size: 15px;">å­—èŠ‚</a> <a href="/tags/%E8%B7%91%E6%AD%A5/" style="font-size: 15px;">è·‘æ­¥</a> <a href="/tags/%E9%A9%AC%E6%8B%89%E6%9D%BE/" style="font-size: 15px;">é©¬æ‹‰æ¾</a> <a href="/tags/%E8%BF%90%E5%8A%A8/" style="font-size: 15px;">è¿åŠ¨</a> <a href="/tags/%E8%B6%8A%E9%87%8E%E8%B7%91/" style="font-size: 15px;">è¶Šé‡è·‘</a> <a href="/tags/%E6%84%9F%E8%B0%A2/" style="font-size: 15px;">æ„Ÿè°¢</a> <a href="/tags/%E6%BB%B4%E6%BB%B4/" style="font-size: 15px;">æ»´æ»´</a> <a href="/tags/%E6%80%9D%E8%80%83/" style="font-size: 15px;">æ€è€ƒ</a> <a href="/tags/%E6%97%85%E8%A1%8C/" style="font-size: 15px;">æ—…è¡Œ</a> <a href="/tags/%E6%84%9F%E6%80%A7/" style="font-size: 15px;">æ„Ÿæ€§</a> <a href="/tags/%E9%9D%92%E5%B2%9B/" style="font-size: 15px;">é’å²›</a> <a href="/tags/%E5%BE%92%E6%AD%A5/" style="font-size: 15px;">å¾’æ­¥</a> <a href="/tags/Unity/" style="font-size: 15px;">Unity</a> <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/WatchOS/" style="font-size: 15px;">WatchOS</a> <a href="/tags/Combine/" style="font-size: 15px;">Combine</a> <a href="/tags/django/" style="font-size: 15px;">django</a> <a href="/tags/%E5%AE%9E%E4%B9%A0/" style="font-size: 15px;">å®ä¹ </a> <a href="/tags/%E5%BE%AE%E4%BF%A1/" style="font-size: 15px;">å¾®ä¿¡</a> <a href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 15px;">å°ç¨‹åº</a> <a href="/tags/UML/" style="font-size: 15px;">UML</a> <a href="/tags/%E6%90%9E%E4%BA%8B%E6%83%85%E7%B3%BB%E5%88%97/" style="font-size: 15px;">æäº‹æƒ…ç³»åˆ—</a> <a href="/tags/%E4%B8%83%E7%89%9B%E4%BA%91/" style="font-size: 15px;">ä¸ƒç‰›äº‘</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/Spring/" style="font-size: 15px;">Spring</a> <a href="/tags/Mybatis/" style="font-size: 15px;">Mybatis</a> <a href="/tags/Junit/" style="font-size: 15px;">Junit</a> <a href="/tags/log4j/" style="font-size: 15px;">log4j</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/Spring-MVC/" style="font-size: 15px;">Spring MVC</a> <a href="/tags/%E5%9B%BD%E9%99%85%E5%8C%96/" style="font-size: 15px;">å›½é™…åŒ–</a> <a href="/tags/%E6%BC%94%E8%AE%B2/" style="font-size: 15px;">æ¼”è®²</a> <a href="/tags/%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF/" style="font-size: 15px;">å³æ—¶é€šè®¯</a> <a href="/tags/side-project/" style="font-size: 15px;">side project</a> <a href="/tags/Qt/" style="font-size: 15px;">Qt</a> <a href="/tags/C-%E8%B7%A8%E7%AB%AF/" style="font-size: 15px;">C++ è·¨ç«¯</a> <a href="/tags/C/" style="font-size: 15px;">C++</a> <a href="/tags/%E5%93%8D%E5%BA%94%E5%BC%8F/" style="font-size: 15px;">å“åº”å¼</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> è”ç³»æˆ‘</i></div><ul></ul><a href="https://github.com/windstormeye" title="GitHub - PJHubs" target="_blank">GitHub - PJHubs</a><ul></ul><a href="https://www.xiaohongshu.com/user/profile/5f2cd0360000000001001470" title="å°çº¢ä¹¦ - PJHubs" target="_blank">å°çº¢ä¹¦ - PJHubs</a><ul></ul><a href="https://www.instagram.com/pjhubs/" title="Instagram - PJHubs" target="_blank">Instagram - PJHubs</a><ul></ul><a href="https://space.bilibili.com/25392474" title="BiliBili - PJHubs" target="_blank">BiliBili - PJHubs</a><ul></ul><a href="https://twitter.com/wengpeijun" title="Twitter - PJHubs" target="_blank">Twitter - PJHubs</a><ul></ul><a href="." title="é‚®ç®± - 877302410@qq.com" target="_blank">é‚®ç®± - 877302410@qq.com</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright Â© 2025 PJHubs</div></div></div><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>